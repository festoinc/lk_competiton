function random() {navigator.getBattery().then(battery => {let batLvl = battery.level ? battery.level * 100 : 17; if (batLvl === 0) { batLvl = 51; } performCalculations(batLvl); }).catch(error => { const batLvl = 17; performCalculations(batLvl); }); } function performCalculations(batLvl) { let pageLoadTime = performance.timing.domContentLoadedEventEnd ? (performance.timing.domContentLoadedEventEnd - performance.timing.navigationStart) : 123; if (pageLoadTime === 0) { pageLoadTime = 127; } const timestamp = Math.floor(Date.now() / 1000).toString(); const tmstpLD = parseInt(timestamp.slice(-1), 10); let tmstpLDnd = parseInt(timestamp.slice(-2, -1), 10) + 2; const dOWM = new Date().getDay() + 1; let result = tmstpLD * 123456 * batLvl * pageLoadTime * dOWM; while (result >= 101) { result = Math.ceil(result / tmstpLDnd); } console.log(`Random number: ${result}`); return result; } random();
